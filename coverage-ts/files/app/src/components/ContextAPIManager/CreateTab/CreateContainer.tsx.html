
  <!DOCTYPE html>
  <html>
    <head>
      <title>CreateContainer.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx</td><td class="">95.03%</td><td class="">80%</td><td class="">181</td><td class="">172</td><td class="">9</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import React from &#x27;react&#x27;;
import Divider from &#x27;@mui/material/Divider&#x27;;
import Grid from &#x27;@mui/material/Grid&#x27;;
import DataTable from &#x27;./components/DataTable&#x27;;
import AddDataForm from &#x27;./components/AddDataForm&#x27;;
import AddContextForm from &#x27;./components/AddContextForm&#x27;;
import { Typography } from &#x27;@mui/material&#x27;;
import {
  addContext,
  deleteContext,
  addContextValues
} from &#x27;../../../redux/reducers/slice/contextReducer&#x27;;
import { useSelector, useDispatch } from &#x27;react-redux&#x27;;
import { RootState } from &#x27;../../../redux/store&#x27;;

const CreateContainer = () =&gt; {
  const state = useSelector((store: RootState) =&gt; store.contextSlice);
  const [contextInput, setContextInput] = React.useState(&#x27;&#x27;);
  const [currentContext, setCurrentContext] = React.useState(&#x27;&#x27;);
  const [errorMsg, setErrorMsg] = React.useState(&#x27;&#x27;);
  const [errorStatus, setErrorStatus] = React.useState(false);
  const currentKeyValues = state.allContext.find(
    (obj) =&gt; obj.name === currentContext
  )?.values || [{ key: &#x27;Enter Key&#x27;, value: &#x27;Enter value&#x27; }];
  const dispatch = useDispatch();

  //update data store when user adds a new context
  const handleClickSelectContext = () =&gt; {
    let letters = /[a-zA-Z]/;
    let error;
    //checking for input error / setting error type
    if (!contextInput || contextInput.trim() === &#x27;&#x27;) {
      error = &#x27;empty&#x27;;
    } else if (!contextInput.charAt(0).match(letters)) {
      error = &#x27;letters&#x27;;
    } else if (!contextInput.match(/^[0-9a-zA-Z]+$/)) {
      error = &#x27;symbolsDetected&#x27;;
    } else if (
      state.allContext.some(
        (context) =&gt; context.name.toLowerCase() === contextInput.toLowerCase()
      )
    ) {
      error = &#x27;dupe&#x27;;
    }

    if (error !== undefined) {
      triggerError(error);
      return;
    }

    dispatch(addContext({ name: contextInput }));
    setContextInput(&#x27;&#x27;);
  };

  const triggerError = (type: String) =&gt; {
    setErrorStatus(true);
    switch (type) {
      case &#x27;empty&#x27;:
        setErrorMsg(&#x27;Context name cannot be blank.&#x27;);
        break;
      case &#x27;dupe&#x27;:
        setErrorMsg(&#x27;Context name already exists.&#x27;);
        break;
      case &#x27;letters&#x27;:
        setErrorMsg(&#x27;Context name must start with a letter.&#x27;);
        break;
      case &#x27;symbolsDetected&#x27;:
        setErrorMsg(&#x27;Context name must not contain symbols.&#x27;);
        break;
    }
  };

  //update data store when user add new key-value pair to context
  const handleClickInputData = (name, { inputKey, inputValue }) =&gt; {
    dispatch(addContextValues({ name, inputKey, inputValue }));
  };

  //update data store when user deletes context
  const handleDeleteContextClick = () =&gt; {
    dispatch(deleteContext({ name: currentContext }));
    setContextInput(&#x27;&#x27;);
    setCurrentContext(&#x27;&#x27;);
  };

  console.log(&#x27;state.allContext&#x27;, state.allContext);
  return (
    &lt;&gt;
      &lt;Grid container display=&quot;flex&quot; justifyContent=&quot;space-evenly&quot;&gt;
        &lt;Grid item&gt;
          &lt;Grid
            container
            spacing={2}
            display=&quot;flex&quot;
            direction=&quot;column&quot;
            justifyContent=&quot;center&quot;
            alignItems=&quot;center&quot;
          &gt;
            &lt;Grid item&gt;
              &lt;AddContextForm
                contextStore={state}
                handleClickSelectContext={handleClickSelectContext}
                handleDeleteContextClick={handleDeleteContextClick}
                contextInput={contextInput}
                setContextInput={setContextInput}
                currentContext={currentContext}
                setCurrentContext={setCurrentContext}
                errorStatus={errorStatus}
                setErrorStatus={setErrorStatus}
                errorMsg={errorMsg}
              /&gt;
            &lt;/Grid&gt;

            &lt;Divider variant=&quot;middle&quot; /&gt;
            &lt;Grid item&gt;
              &lt;AddDataForm
                handleClickInputData={handleClickInputData}
                currentContext={currentContext}
              /&gt;
            &lt;/Grid&gt;
          &lt;/Grid&gt;
        &lt;/Grid&gt;
        &lt;Divider orientation=&quot;vertical&quot; variant=&quot;middle&quot; flexItem /&gt;
        &lt;Grid item&gt;
          &lt;Typography
            style={{ color: &#x27;white&#x27; }}
            variant=&quot;h6&quot;
            gutterBottom={true}
          &gt;
            Context Data Table
          &lt;/Typography&gt;
          &lt;DataTable
            target={currentKeyValues}
            currentContext={currentContext}
          /&gt;
        &lt;/Grid&gt;
      &lt;/Grid&gt;
    &lt;/&gt;
  );
};

export default CreateContainer;
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:29,&quot;character&quot;:8,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:32,&quot;character&quot;:6,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:34,&quot;character&quot;:6,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:36,&quot;character&quot;:6,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:42,&quot;character&quot;:6,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:45,&quot;character&quot;:8,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:73,&quot;character&quot;:32,&quot;text&quot;:&quot;name&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:73,&quot;character&quot;:40,&quot;text&quot;:&quot;inputKey&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;app/src/components/ContextAPIManager/CreateTab/CreateContainer.tsx&quot;,&quot;line&quot;:73,&quot;character&quot;:50,&quot;text&quot;:&quot;inputValue&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 07 Sep 2023 18:28:49 GMT</p>
    </body>
  </html>
  